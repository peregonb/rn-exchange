import React, {useEffect, useRef} from 'react';
import {Animated, StyleSheet, View} from 'react-native';
import Svg, {Path} from 'react-native-svg';
import {withRelativeMeasurement} from "../hoc/withRelativeMeasurement";

const Preloader = ({vw}) => {
    const rotateAnim = useRef(new Animated.Value(0)).current;
    useEffect(() => {
        Animated.loop(
            Animated.sequence([
                Animated.timing(rotateAnim, {
                    toValue: -36,
                    duration: 4200
                })
            ])
        ).start()
    }, []);

    let styles = StyleSheet.create({
        block: {
            flex: 1,
            alignItems: 'center',
            justifyContent: 'center'
        },
        image: {
            height: 15 * vw,
            width: 15 * vw,
            maxWidth: 60,
            maxHeight: 60
        },
        animated: {
            transform: [{rotate: rotateAnim}]
        }
    });
    return (
        <View style={styles.block}>
            <Animated.View style={styles.animated}>
                <Svg style={styles.image} viewBox="0 0 495.99 495.99">
                    <Path
                        fill="rgba(255,255,255, 0.75)"
                        d="M311.96 247.99c0-35.288-28.712-64-64-64s-64 28.712-64 64 28.712 64 64 64 64-28.712 64-64zm-112 0c0-26.472 21.528-48 48-48s48 21.528 48 48-21.528 48-48 48-48-21.528-48-48zM343.96 63.987c-35.288 0-64 28.712-64 64s28.712 64 64 64c14.472 0 28.648-4.968 39.936-13.984l-9.992-12.496c-8.576 6.856-18.936 10.488-29.944 10.488-26.472 0-48-21.528-48-48s21.528-48 48-48 48 21.528 48 48c0 10.464-3.304 20.4-9.552 28.744l12.808 9.592c8.336-11.136 12.752-24.392 12.752-38.336-.008-35.296-28.72-64.008-64.008-64.008z"
                    />
                    <Path
                        fill="rgba(255,255,255, 0.75)"
                        d="M311.96 127.99c0 17.648 14.352 32 32 32s32-14.352 32-32-14.352-32-32-32-32 14.352-32 32zm48 0c0 8.824-7.176 16-16 16s-16-7.176-16-16 7.176-16 16-16 16 7.176 16 16zM95.958 151.99c-35.288 0-64 28.712-64 64s28.712 64 64 64 64-28.712 64-64-28.712-64-64-64zm0 112c-26.472 0-48-21.528-48-48s21.528-48 48-48 48 21.528 48 48-21.528 48-48 48z"
                    />
                    <Path
                        fill="rgba(255,255,255, 0.75)"
                        d="M95.958 183.99c-17.648 0-32 14.352-32 32s14.352 32 32 32 32-14.352 32-32-14.352-32-32-32zm0 48c-8.824 0-16-7.176-16-16s7.176-16 16-16 16 7.176 16 16-7.176 16-16 16zM223.96 399.99c0 35.288 28.712 64 64 64s64-28.712 64-64-28.712-64-64-64-64 28.712-64 64zm112 0c0 26.472-21.528 48-48 48s-48-21.528-48-48 21.528-48 48-48 48 21.528 48 48z"
                    />
                    <Path
                        fill="rgba(255,255,255, 0.75)"
                        d="M255.96 399.99c0 17.648 14.352 32 32 32s32-14.352 32-32-14.352-32-32-32-32 14.352-32 32zm48 0c0 8.824-7.176 16-16 16s-16-7.176-16-16 7.176-16 16-16 16 7.176 16 16z"
                    />
                    <Path
                        fill="rgba(255,255,255, 0.75)"
                        d="M420.38 69.803l-.096.096c-7.936-10.408-17.968-19.272-29.664-25.832-38.72-21.728-88.328-13.472-117.98 19.616-13.424 14.992-21.72 33.328-24 53.024-2.152 18.512-15.08 34.296-33.744 41.176l2.768 7.504-3.688-7.16c-17.352 6.616-37.456 2.224-51.216-11.168-9.008-8.768-19.64-15.52-31.208-20.136 17.184-16.504 37.736-29.304 60.128-37.256l-5.352-15.08c-27.36 9.72-52.192 26.04-72.192 47.232-4.824-.944-9.728-1.608-14.712-1.824-1.728-.072-3.44-.016-5.152.008 29.536-35.536 69.992-59.592 115.69-68.376l-3.024-15.712c-54.912 10.552-102.8 41.52-135.23 87.256a97.195 97.195 0 00-25.904 11.2c40.08-71.144 115.74-117.38 199.34-118.37l-.184-16C140.63 1.233 47.73 68.249 13.6 166.781c-3.712 6.136-6.784 12.696-9.008 19.656-8.36 26.208-5.224 54.72 8.624 78.232 13.856 23.528 37.152 40.096 63.912 45.448 17.224 3.44 35.024 2.12 51.464-3.84 18.624-6.744 38.936-2.536 53.032 10.984l1.192 1.12c14.6 13.528 20.208 33.432 14.296 50.704-4.144 12.088-5.736 24.752-4.88 37.352-21.944-7.736-42.264-20.024-59.336-36.088l-10.968 11.648c20.784 19.56 45.984 34.008 73.152 42.168.04.152.064.296.104.448 1.688 6.36 4.08 12.368 6.952 18.072-44.544-10.4-83.992-35.68-112.44-72.472l-12.656 9.792c34.08 44.072 82.792 72.832 137.43 81.336a97.848 97.848 0 0020.448 18.192c-81.648-4.544-154.73-51.344-192.86-124.58l-14.192 7.392c42.92 82.432 127.26 133.64 220.1 133.64 8.36 0 16.816-.456 25.152-1.312a94.786 94.786 0 0015.32 1.272c6.768 0 13.608-.736 20.424-2.264 25.76-5.768 47.48-21.344 61.152-43.848 13.672-22.512 17.504-48.944 10.76-74.4-3.592-13.576-9.928-25.896-18.832-36.624-16.688-20.104-23.672-44.464-19.152-66.84.2-1 .384-2 .552-3.016 3.952-23.56 19.464-43.472 42.56-54.632 8.272-4 15.832-9.32 22.632-15.52 4.864 15.872 7.432 32.344 7.432 49.184 0 16.344-2.352 32.512-7 48.048l15.328 4.576c5.088-17.024 7.664-34.728 7.664-52.632 0-21.576-3.84-42.608-11.12-62.672.368-.496.808-.936 1.168-1.44 3.608-5.032 6.616-10.4 9.152-15.952 10.968 25.112 16.8 52.44 16.8 80.056 0 29.648-6.344 58.184-18.856 84.832l14.488 6.808c13.52-28.792 20.376-59.624 20.376-91.64 0-35.688-8.928-70.968-25.736-102.2 1.8-9.544 2.2-19.36 1.048-29.12 26.464 38.312 40.696 83.624 40.696 131.32 0 48.136-14.64 94.32-42.328 133.55l13.072 9.224c29.608-41.944 45.256-91.32 45.256-142.78-.032-67.728-26.872-131.02-75.608-178.17zm-11.384 104.76c-7.76 10.832-18.152 19.592-30.064 25.344-27.424 13.24-46.632 38.064-51.384 66.392-.144.848-.296 1.68-.456 2.504-5.48 27.128 2.728 56.368 22.52 80.216 7.408 8.928 12.68 19.184 15.672 30.496 5.616 21.216 2.432 43.24-8.968 62-11.392 18.752-29.496 31.736-50.976 36.544-41.36 9.248-83.832-16.56-94.72-57.56-4.064-15.32-3.512-31.312 1.6-46.24 7.968-23.248.688-49.8-18.552-67.632l-.992-.936c-12.688-12.176-29.2-18.608-46.184-18.608-7.8 0-15.696 1.36-23.368 4.144-13.68 4.96-28.512 6.072-42.872 3.192-22.304-4.464-41.712-18.272-53.264-37.88-11.704-19.88-14.248-43.048-7.168-65.248 10.704-33.536 44.008-56.736 78.912-55.312 20.016.848 38.784 8.856 52.856 22.544 18.2 17.704 44.912 23.464 68.064 14.648l-2.84-7.48 3.616 7.184c24.352-8.984 41.248-29.808 44.096-54.344 1.904-16.4 8.832-31.68 20.032-44.2 24.672-27.552 65.992-34.416 98.224-16.336 20.304 11.384 34.24 30.048 39.248 52.544 4.952 22.232.2 45.552-13.032 64.024z"
                    />
                    <Path
                        fill="rgba(255,255,255, 0.75)"
                        d="M417.57 406.2l11.704 10.904a254.705 254.705 0 0011.344-13.032l-12.432-10.08A240.41 240.41 0 01417.57 406.2zM277.89 1.843c-5.4-.648-10.84-1.152-16.336-1.464l-.912 15.976c5.16.296 10.28.76 15.344 1.368l1.904-15.88zM29.942 327.48l-15.032 5.48a247.636 247.636 0 006.552 16.168L36.07 342.6a230.802 230.802 0 01-6.128-15.12zM435.67 354.86l-13.896-7.928a200.12 200.12 0 01-8.952 14.256l13.184 9.064c3.44-5 6.688-10.176 9.664-15.392zM224.46 49.403a203.318 203.318 0 0116.112-1.232l-.584-15.992a219.99 219.99 0 00-17.384 1.336l1.856 15.888zM72.862 344.64l-14 7.744c2.8 5.064 5.864 10.12 9.12 15.008l13.328-8.848a200.018 200.018 0 01-8.448-13.904zM205.41 85.459c4.912-1.28 9.92-2.352 14.896-3.168l-2.608-15.792a182.403 182.403 0 00-16.328 3.48l4.04 15.48zM122.3 359.44a170.83 170.83 0 01-10.112-12.552l-12.92 9.44a189.605 189.605 0 0011.064 13.736L122.3 359.44zM403.86 310.6a171.534 171.534 0 01-6.968 15.096l14.176 7.408a183.481 183.481 0 007.624-16.52L403.86 310.6z"
                    />
                </Svg>
            </Animated.View>
        </View>
    )
};

export default withRelativeMeasurement(Preloader);